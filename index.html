<html><head><script type="text/javascript" src="akihabara/gbox.js"></script><script type="text/javascript" src="akihabara/iphopad.js"></script><script type="text/javascript" src="akihabara/trigo.js"></script><script type="text/javascript" src="akihabara/toys.js"></script><script type="text/javascript" src="akihabara/help.js"></script><script type="text/javascript" src="akihabara/tool.js"></script><script type="text/javascript" src="akihabara/gamecycle.js"></script><link rel="stylesheet" href="style.css" /><meta name="viewport" content="width:device-width; initial-scale:1.0; maximum-scale:1.0; user-scalable:0;" /></head><body></body><script>var __slice = Array.prototype.slice;var __hasProp = Object.prototype.hasOwnProperty;var __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };var __extends = function(child, parent) {  for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; }  function ctor() { this.constructor = child; }  ctor.prototype = parent.prototype; child.prototype = new ctor; child.__super__ = parent.prototype;  return child; };var __indexOf = Array.prototype.indexOf || function(item) {  for (var i = 0, l = this.length; i < l; i++) {    if (this[i] === item) return i;  } return -1; };(function () {
    var addPlayer, loadResources, main, maingame;
    maingame = void 0;
    loadResources = function() {
      help.akihabaraInit({
        title: 'ASTROSMASH!',
        width: 162,
        height: 102,
        zoom: 4
      });
      gbox.addImage('logo', 'logo.png');
      gbox.addImage("player_sprite", "player_sprite.png");
      gbox.addTiles({
        id: "player_tiles",
        image: "player_sprite",
        tileh: 16,
        tilew: 16,
        tilerow: 1,
        gapx: 0,
        gapy: 0
      });
      gbox.addImage('font', 'font.png');
      gbox.addFont({
        id: 'small',
        image: 'font',
        firstletter: '!',
        tileh: 8,
        tilew: 8,
        tilerow: 20,
        gapx: 0,
        gapy: 0
      });
      return gbox.loadAll(main);
    };
    addPlayer = function() {
      return gbox.addObject({
        id: "player_id",
        group: "player",
        tileset: "player_tiles",
        initialize: function() {
          return toys.topview.initialize(this, {});
        },
        first: function() {
          toys.topview.controlKeys(this, {
            left: "left",
            right: "right"
          });
          toys.topview.handleAccellerations(this);
          return toys.topview.applyForces(this);
        },
        blit: function() {
          gbox.blitFade(gbox.getBufferContext(), {});
          return gbox.blitTile(gbox.getBufferContext(), {
            tileset: this.tileset,
            tile: this.frame,
            dx: this.x,
            dy: this.y,
            fliph: this.fliph,
            flipv: this.flipv,
            camera: this.camera,
            alpha: 1.0
          });
        }
      });
    };
    main = function() {
      gbox.setGroups(['player', 'game']);
      maingame = gamecycle.createMaingame('game', 'game');
      maingame.gameTitleIntroAnimation = function(reset) {
        if (reset) toys.resetToy(this, 'rising');
        gbox.blitFade(gbox.getBufferContext(), {
          alpha: 1
        });
        return toys.logos.linear(this, 'rising', {
          image: 'logo',
          sx: gbox.getScreenW() / 2 - gbox.getImage('logo').width / 2,
          sy: 1,
          x: gbox.getScreenW() / 2 - gbox.getImage('logo').width / 2,
          y: 1,
          speed: 0
        });
      };
      maingame.pressStartIntroAnimation = function(reset) {
        if (reset) {
          return toys.resetToy(this, 'default-blinker');
        } else {
          return gbox.keyIsHit('a');
        }
      };
      maingame.initializeGame = function() {
        return addPlayer();
      };
      return gbox.go();
    };
    return window.addEventListener('load', loadResources, false);
  }).call(this);</script></html>